<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Raiku SlotScope â€” Simulation</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header class="app-header">
    <div class="container">
      <h1>ğŸª Raiku SlotScope â€” Deterministic Simulation</h1>
      <p class="subtitle">Visual & Economic simulation: AOT vs JIT execution (Solana-like)</p>
    </div>
  </header>

  <main class="container">
    <!-- Controls -->
    <section class="card controls-row" aria-label="Controls">
      <button id="startBtn" class="btn-primary">ğŸš€ Start Simulation</button>

      <label class="control-inline tooltip">
        <input id="modeAot" type="checkbox" /> AOT Mode
        <span class="tooltiptext">Reserve slots before execution: reduces pending/fails but increases gas cost.</span>
      </label>

      <label class="control-inline">Scenario:
        <select id="scenario">
          <option value="normal">Normal</option>
          <option value="congestion">Network Congestion</option>
          <option value="highfee">High Fee Market</option>
        </select>
      </label>

      <label class="control-inline">TX Count:
        <input id="txCount" type="number" min="10" max="1000" value="100" />
      </label>

      <label class="control-inline"><input id="autorun" type="checkbox" /> Auto-run on load</label>

      <button id="exportBtn" class="btn-outline">ğŸ“¥ Export CSV</button>
      <button id="resetBtn" class="btn-outline">ğŸ”„ Reset</button>
    </section>

    <!-- AOT info -->
    <div id="aotInfo" class="aot-banner" role="status" aria-live="polite"></div>

    <!-- Slots timeline -->
    <section id="timeline-container">
      <div id="timeline" class="slots-grid" aria-label="Slot timeline"></div>
    </section>

    <!-- Deterministic blueprint -->
    <section id="blueprint" class="card blueprint">
      <h3>ğŸ§© Deterministic Execution Blueprint</h3>
      <div class="pipeline" aria-hidden="false">
        <div class="step small">ğŸ‘¤<br><span class="smallsub">User</span></div>
        <div class="arrow small">â¡</div>
        <div class="step small">ğŸ§ <br><span class="smallsub">Raiku Node</span></div>
        <div class="arrow small">â¡</div>
        <div class="step small">â±<br><span class="smallsub">Slot Reservation</span></div>
        <div class="arrow small">â¡</div>
        <div class="step small">ğŸ”—<br><span class="smallsub">Solana Chain</span></div>
        <div class="arrow small">â¡</div>
        <div class="step small">âœ…<br><span class="smallsub">TX Confirmed</span></div>
      </div>
    </section>

    <!-- Chart & legend -->
    <section id="chart-section" class="card chart-card">
      <h3>ğŸ“Š Transaction Metrics</h3>
      <canvas id="txChart" aria-label="Transaction metrics chart"></canvas>
      <div class="chart-legend" id="chartLegend" aria-hidden="false">
        <span class="legend-item black">â¬› Total</span>
        <span class="legend-item green">ğŸŸ© Executed</span>
        <span class="legend-item yellow">ğŸŸ¨ Pending</span>
        <span class="legend-item red">ğŸŸ¥ Failed</span>
      </div>

      <div class="metrics-row" aria-label="Summary metrics">
        <div class="metric"><div class="label">Executed</div><div class="value" id="m-exec">0</div></div>
        <div class="metric"><div class="label">Failed</div><div class="value" id="m-fail">0</div></div>
        <div class="metric"><div class="label">Pending</div><div class="value" id="m-pend">0</div></div>
        <div class="metric highlight-blue"><div class="label">AOT Gas (SOL)</div><div class="value" id="m-aotgas">0.00000</div></div>
        <div class="metric highlight-orange"><div class="label">Total Gas (SOL)</div><div class="value" id="m-gas">0.00000</div></div>
      </div>
    </section>

    <!-- Log -->
    <section class="card" aria-label="Simulation log">
      <h3>ğŸ“ Simulation Log</h3>
      <div id="log" class="logbox" aria-live="polite"></div>
    </section>

  </main>

  <footer class="footer">
    <div class="container">
      <small>Built by pakgiinvp059 â€” Raiku Inevitable Ideathon demo</small>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>
