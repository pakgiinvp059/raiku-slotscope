<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>🪐 Raiku SlotScope — Deterministic Simulation</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="header">
    <h1>🪐 Raiku SlotScope</h1>
    <p>Deterministic Simulation — AOT vs JIT Execution (Solana-like)</p>
  </div>

  <div class="controls">
    <button id="startBtn">🚀 Start Simulation</button>
    <label><input type="radio" name="mode" value="JIT" checked> JIT</label>
    <label><input type="radio" name="mode" value="AOT"> AOT</label>
    <label>Scenario:
      <select id="scenario">
        <option>Normal</option>
        <option>High Fee</option>
        <option>Congestion</option>
      </select>
    </label>
    <label>TX Count: <input id="txCount" type="number" value="100" min="10"></label>
    <label><input type="checkbox" id="autoRun"> Auto-run</label>
    <button id="exportBtn">📤 Export</button>
    <button id="compareBtn">📊 So sánh JIT & AOT</button>
    <button id="resetBtn">🔁 Reset</button>
  </div>

  <!-- Slots -->
  <div class="slots" id="slots">
    ${Array.from({ length: 10 }, (_, i) => `
      <div class="slot">
        <h3>Slot ${i + 1}</h3>
        <div class="dots">
          <span class="dot green"></span>
          <span class="dot orange"></span>
          <span class="dot red"></span>
        </div>
        <div class="slot-value">0</div>
      </div>
    `).join("")}
  </div>

  <div class="blueprint">
    <h2>🧩 Deterministic Execution Blueprint</h2>
    <div class="steps">
      <div class="step"><span>👤</span> User<br>Submit TX</div>
      <div class="arrow">➡️</div>
      <div class="step"><span>🧠</span> Raiku Node<br>AOT / JIT Scheduling</div>
      <div class="arrow">➡️</div>
      <div class="step"><span>⏱</span> Slot Reservation<br>Guaranteed Order</div>
      <div class="arrow">➡️</div>
      <div class="step"><span>🪐</span> Solana Chain<br>Deterministic Execution</div>
      <div class="arrow">➡️</div>
      <div class="step"><span>✅</span> TX Confirmed<br>Finality</div>
    </div>
  </div>

  <div class="charts">
    <div class="chart-box large">
      <canvas id="txChart"></canvas>
      <div class="legend">
        <span class="dot green"></span> Executed
        <span class="dot orange"></span> Pending
        <span class="dot red"></span> Failed
      </div>
    </div>
    <div class="chart-box small">
      <canvas id="gasChart"></canvas>
      <div class="legend">
        <span class="dot blue"></span> JIT Gas
        <span class="dot teal"></span> AOT Gas
      </div>
    </div>
  </div>

  <div class="summary" id="summary">
    <div class="box">Executed TX<br><span id="executedTx">0</span></div>
    <div class="box">Failed TX<br><span id="failedTx">0</span></div>
    <div class="box">Pending TX<br><span id="pendingTx">0</span></div>
    <div class="box">JIT Gas (SOL)<br><span id="jitGas">0.00000</span></div>
    <div class="box">AOT Gas (SOL)<br><span id="aotGas">0.00000</span></div>
    <div class="box">Total Gas (SOL)<br><span id="totalGas">0.00000</span></div>
  </div>

  <!-- Comparison Panel -->
  <div id="comparisonBox" class="comparison hidden">
    <h3>📊 So sánh hiệu suất</h3>
    <p><strong>JIT:</strong> <span id="jitTxCompare">0</span> TX — Gas: <span id="jitGasCompare">0.00000</span></p>
    <p><strong>AOT:</strong> <span id="aotTxCompare">0</span> TX — Gas: <span id="aotGasCompare">0.00000</span></p>
  </div>

  <script src="script.js"></script>
</body>
</html>
